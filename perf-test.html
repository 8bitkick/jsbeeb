<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="lib/require.js"></script>
    <script type="text/javascript">
        require(['requirejs-common'], function () {
            require(['video', 'canvas', 'jquery'], function(video, canvasLib){
                var canvas = canvasLib.bestCanvas($('#screen')[0]);
                var video = new video.Video(canvas.fb32, function paint(minx, miny, maxx, maxy) {
                    canvas.paint(minx, miny, maxx, maxy);
                });
                test(video);
            });
            function test(video) {
                var reps = 500000;
                var start = Date.now();
                for (var i = 0; i < reps; ++i)
                    video.clearFb(0, 16);
                var end = Date.now();
                var result = "Took " + (end - start) + "ms to do " + reps + " 16 32-bit clears";
                console.log(result);
                $('#result').text(result);
            }
        });
    </script>
</head>
<body>
<h2>Test</h2>
<div><span id="result">Running test....</span></div>
<canvas id="screen" width="896" height="600"></canvas>
</body>
</html>